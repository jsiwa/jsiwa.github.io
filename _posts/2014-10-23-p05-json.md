---
layout:    default
title:     JavaScript语言精粹笔记之JSON
category:  JavaScript
tags:      JavaScript语言精粹
keyword:   JavaScript语言精粹,JavaScript学习
description:  JavaScript语言精粹笔记 —— JSON。
---

<div class="post-con">
<h1>JavaScript语言精粹笔记之JSON</h1>

<h4>一、JSON简介</h4>
<p>JavaScript 对象表示法(JavaScript Object Notation，简称JSON) 是一种轻量级的数据交换格式。尽管是JavaScript的一个子集，但它与语言无关。所有以现代编程语言编写的程序，都可以用它来彼此交换数据。它是一种文本格式，所以可以被人和机器阅读。<a href="http://www.JSON.org">更多关于JSON的资料</a></p>

<h4>二、JSON语法</h4>
<p>JSON 有6种类型的值：对象、数组、字符串、数字、布尔值（true和false）和特殊值null。空白（空格符、制表符、回车符和换行符）可被插到任何值的前后。</p>
<p>1. JSON 对象 是一个容纳“名/值”对的无序集合。</p>
<p>
	1.1 名字可以是任何字符串<br>
	1.2 值可以是任何类型的JSON值，包括数组和对象<br>
	1.3 JSON对象可以被无限层地嵌套<br>
	ps: 大多数语言都容易映射为 JSON 对象的数据类型，比如对象(object)、结构(struct)、字典(dictionary)、哈希表(hash table)、属性列表(property list)或关联数组(associative array)。
</p>
<p>2. JSON 数组是一个值的有序序列。</p>
<p>
	2.1 其值可以是任何类型的JSON值，包括数组和对象
	ps：大多数语言都有容易被映射为JSON 数组的数据类型，比如数组(array)、向量(vector)、列表(list)或序列(sequence)。
</p>
<pre><code class="javascript">
[
	{
		"first": "Jerome",
		"middle": "Lester",
		"last": "Howard",
		"nick-name": "Curly",
		"born": 1903,
		"died": 1952,
		"quote": "nyuk-nyuk-nyuk!"
	},
	{
		"first": "Harry",
		"middle": "Moses",
		"last": "Howard",
		"nick-name": "Moe",
		"born": 1897,
		"died": 1975,
		"quote": "Why, you!"
	},
	{
		"first": "Louis",
		"last": "Feinberg",
		"nick-name": "Larry",
		"born": 1902,
		"died": 1975,
		"quote": "I'm sorry. Moe, it was an accident!"
	}
]
</code></pre>

<h4>三、安全地使用JSON</h4>
<p>使用eval 函数可以把一段JSON文本转化成一个有用的数据结构：</p>
<pre><code class="javascript">
var myData = eval('(' + myJSONText + ')');
// 用圆括号把JSON 文本括起来是一种避免JavaScript语法歧义的变通方案。
// 在JavaScript 的语法中，表达式语句不允许以左花括号"{"开始，因为那会与块语句产生混淆。
</code></pre>

<p>然后，eval函数存在安全问题。</p>
<p>通过使用JSON.parse 方法替代 eval (http://www.JSON.org/json2.js) 就能避免这种危险。</p>
<p>ps: 外部数据域innerHTML进行交互时还存在一种危险。一种常见的Ajax模式是把服务器端发过来的一个HTML 文本片段赋值给某个HTML元素的innerHTML 属性。如果这个HTML包含一个&lt;script&gt;标签或等价物，那么一个恶意脚本（服务器存在漏洞）将被执行。</p>



</div>